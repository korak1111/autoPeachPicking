% Run this once in the command window
% imaqregister('C:\Program Files\Kinova\Vision Imaq\kinova_vision_imaq.dll');

imaqreset;
imaqhwinfo;

% --- Display the Color Device Video --- %
vid1 = videoinput('kinova_vision_imaq', 1, 'RGB24');
vid1.FramesPerTrigger = 1;
src1 = getselectedsource(vid1);

% Change device properties
src1.CloseConnectionOnStop = 'Enabled';
src1.ResetROIOnResolutionChange = 'Disabled';

preview(vid1);
rgbData = getsnapshot(vid1);
imwrite(rgbData, 'rbg_img.png')

closepreview(vid1);
delete(vid1);

% --- Display the Depth Device Raw Video --- %
vid2 = videoinput('kinova_vision_imaq', 2, 'MONO16');
vid2.FramesPerTrigger = 1;
src2 = getselectedsource(vid2);

% Change device properties
src2.CloseConnectionOnStop = 'Enabled';
src2.ResetROIOnResolutionChange = 'Disabled';
src2.pr

preview(vid2);
depthData = getsnapshot(vid2);
imwrite(depthData, 'depth_img.png')

depthData(135, 240)

closepreview(vid2);
delete(vid2);

% --- Settings --- %
% SetOptionValue
% OPTION_DEPTH_UNITS	Number of meters represented by a single depth unit 
% (supported on depth sensor only: 0.0001 to 0.0100, step 0.000001)
